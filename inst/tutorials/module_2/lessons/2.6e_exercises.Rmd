---
title: "Working with Strings and Text Data: Exercises"
---

### Your Turn!

Congratulations on successfully navigating through the "Working with Strings and Text Data" lesson! You've mastered some powerful techniques in string manipulation and regular expressions. Now, let's put that newfound knowledge into practice. Remember, applying what you've learned is the most effective way to reinforce and consolidate your understanding.  

So, let's dive into some real-world exercises!  


###
Imagine you are a People Analytics Specialist at "FutureTech Corp.", a fast-growing technology company. You have been given a list of employee data and several tasks to complete using R's string manipulation capabilities and regular expressions.  

You will be using the `future_tech_data` dataset for the following exercises. The data is a vector of strings, each representing an employee. Each string contains the employee ID, the employee's name, and their department, separated by hyphens.  

```{r prepare-future-tech-data}
future_tech_data <- c("EMP001-John Smith-HR",
                   "EMP002-Robert Brown-Sales",
                   "EMP003-Emily Johnson-Finance",
                   "EMP004-Alice Davis-IT",
                   "EMP005-Bob Anderson-Marketing")
```


### Exercise 1: Extract Employee IDs
Your first task is to compile a list of all employee IDs. Use `str_extract()` to extract the Employee IDs from `future_tech_data`.  

```{r text-ex-1, exercise = TRUE, exercise.setup = "prepare-future-tech-data"}

```

```{r text-ex-1-hint-1}
# Remember to use the `^` anchor to start the match at the beginning of the string.
```

```{r text-ex-1-hint-2}
str_extract(future_tech_data, ___)
```


```{r text-ex-1-solution, exercise.reveal_solution = FALSE}
str_extract(future_tech_data, "^EMP\\d+")
```

```{r text-ex-1-check}
grade_this({
    pass_if_equal()
})
```



### Exercise 2: Find Employees in HR Department
For an upcoming meeting, the HR manager needs the details of all employees in the HR department. Find all employees who are part of the HR department.  

```{r text-ex-2, exercise = TRUE, exercise.setup = "prepare-future-tech-data"}

```

```{r text-ex-2-hint-1}
str_subset(future_tech_data, ___)
```

```{r text-ex-2-solution, exercise.reveal_solution = FALSE}
str_subset(future_tech_data, "HR$")
```

```{r text-ex-2-check}
grade_this({
    pass_if_equal()
})
```



### Exercise 3: Find Employees with IDs Ending in '2' or '5'
FutureTech Corp. wants to organize a training session for employees whose IDs end in '2' or '5'. They believe these employees belong to the older hiring batches and might need a refresher course. Use `str_subset()` to identify these employees.  

```{r text-ex-3, exercise = TRUE, exercise.setup = "prepare-future-tech-data"}

```

```{r text-ex-3-hint-1}
# The $ anchor and character classes can help you match at the end of the string.
```

```{r text-ex-3-hint-2}
# The $ anchor and character classes can help you match at the end of the string.
# The | alternation symbol to pick between one or more alternative patterns.
```

```{r text-ex-3-hint-3}
str_subset(future_tech_data, "___|___")
```

```{r text-ex-3-solution, exercise.reveal_solution = FALSE}
str_subset(future_tech_data, "2$|5$")
```

```{r text-ex-3-check}
grade_this({
    pass_if_equal()
})
```


### BONUS: Advanced Exercises

The following two exercises are a bit more challenging and use the techniques you learned in the "Advanced Regular Expressions" section. But you got this! Utilize various resources to help you solve this exercise (e.g., Google, Stackoverflow, `?help`, etc.). And remember, there are multiple ways to solve these problems.  

### Exercise 4: Extract Department Names
Next, the HR department needs a list of all the departments mentioned in the dataset. Extract the department names from `future_tech_data`.  

```{r text-ex-4, exercise = TRUE, exercise.setup = "prepare-future-tech-data"}

```

```{r text-ex-4-hint-1}
str_extract(future_tech_data, ___)
```

```{r text-ex-4-solution, exercise.reveal_solution = FALSE}
str_extract(future_tech_data, "(?<=-)[A-Za-z]+$")
```

```{r text-ex-4-check}
grade_this({
    pass_if_equal()
})
```


### Exercise 5: Rearrange the Data
FutureTech Corp. has decided they want the data in the following format: "Name (Employee ID) - Department". This would make the data more readable for the upcoming presentation. An example output would be `Bob Anderson (EMP005) - Marketing`. Use `str_replace_all()` with capturing groups to rearrange the employee data.  

```{r text-ex-5, exercise = TRUE, exercise.setup = "prepare-future-tech-data"}

```

```{r text-ex-5-hint-1}
# Use \\1 and \\2 to refer back to captured groups in the replacement string.
```

```{r text-ex-5-hint-2}
str_replace_all(future_tech_data, pattern = ___, replacement = "\\2 (\\1) - \\3")
```


```{r text-ex-5-solution, exercise.reveal_solution = FALSE}
str_replace_all(future_tech_data, pattern = "(^EMP\\d+)-(\\w+ \\w+)-(\\w+$)", replacement = "\\2 (\\1) - \\3")
```

```{r text-ex-5-check}
grade_this({
    pass_if_equal()
})
```


###
Awesome job working through these exercises!  

Remember, the key to mastering regular expressions is practice. The more you practice, the more intuitive it will become.  